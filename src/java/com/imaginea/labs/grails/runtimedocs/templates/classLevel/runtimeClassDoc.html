<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->
<%
    def title = classDoc.getSimpleName() + (props.windowTitle ? " (${props.windowTitle})" : "")
	def isValidName = { t ->
		return java.lang.Character.isLetter(t.getName().charAt(0)) && !t.getName().contains('$');
	}
	def isVisible = {
		isValidName(it) && (java.lang.reflect.Modifier.isPublic(it.getModifiers())
		|| (java.lang.reflect.Modifier.isProtected(it.getModifiers()) && props.protectedScope == 'true') ||
		(!java.lang.reflect.Modifier.isProtected(it.getModifiers()) && !java.lang.reflect.Modifier.isPrivate(it.getModifiers())
		&& props.packageScope == 'true') || props.privateScope == 'true')
	}
    def isVisibleExt = { t ->
		java.lang.reflect.Modifier.isPublic(t.getModifiers()) || java.lang.reflect.Modifier.isProtected(t.getModifiers())
	}
    def visibleFields = classDoc.getDeclaredFields().findAll(isVisible).sort { it.getName() }
    def visibleProperties = classDoc.getDeclaredProperties().findAll(isVisible).sort { it.getName() } // props visible be defn
    def visibleMethods = classDoc.getDeclaredMethods().findAll{ !it.isSynthetic() && isVisible(it) }.sort { it.getName() }
	def expandoMethods = classDoc.getExpandoMethods().findAll(isVisible)
    def visibleConstructors = classDoc.getDeclaredConstructors().findAll(isVisible).sort { it.getName() }
    def visibleNested = classDoc.getClasses().findAll(isVisible).sort { it.getSimpleName() }
	def enumConstants = classDoc.getEnumConstants()
    boolean hasFields = !classDoc.isAnnotation() && visibleFields
    boolean hasProperties = !classDoc.isAnnotation() && visibleProperties
    boolean hasElements = classDoc.isAnnotation() && visibleFields
    boolean methodSummaryShown = visibleMethods
    boolean fieldSummaryShown = hasFields
    boolean hasEnumConstants = enumConstants != null
    def dolink = { t, boolean b ->
		return classDoc.getDocUrl(t,b);
    }
    def linkfull = { t -> dolink(t, true) }
    def linkable = { t -> dolink(t, false) }
	def modifiers = { t ->
        (java.lang.reflect.Modifier.isPrivate(t.getModifiers())?"private&nbsp;":"") +
        (java.lang.reflect.Modifier.isPublic(t.getModifiers())?"public&nbsp;":"") +
        (java.lang.reflect.Modifier.isProtected(t.getModifiers())?"protected&nbsp;":"") +
        (java.lang.reflect.Modifier.isStatic(t.getModifiers())?"static&nbsp;":"") +
        (java.lang.reflect.Modifier.isFinal(t.getModifiers())?"final&nbsp;":"") +
        (java.lang.reflect.Modifier.isAbstract(t.getModifiers())?"abstract&nbsp;":"")
    }
    def modifiersBrief = { t ->
        (java.lang.reflect.Modifier.isPublic(t.getModifiers())?"public&nbsp;":"") +
        (java.lang.reflect.Modifier.isPrivate(t.getModifiers())?"private&nbsp;":"") +
        (java.lang.reflect.Modifier.isProtected(t.getModifiers())?"protected&nbsp;":"") +
        (java.lang.reflect.Modifier.isStatic(t.getModifiers())?"static&nbsp;":"")
    }

	def annotations = { t, sepChar -> classDoc.getAnnotations(t) ? t.getAnnotations()*.toString().join(sepChar) + sepChar : '' }
    def elementTypes = [
        "required":"true",
        "optional":"false"
    ]
    def isRequired = { f, v -> def req = f.get(classDoc) == null; req.toString() == v }
    def upcase = { n -> n[0].toUpperCase() + n[1..-1] }
	def paramType = { param ->
if(param instanceof org.codehaus.groovy.reflection.CachedClass)
return param.getTheClass().getSimpleName()
else
return param.getSimpleName()
}
    def paramsOf = { n, boolean brief -> def index = 1; n.getParameterTypes().collect{ param ->
	(brief?'':annotations(param, ' ')) + linkable(paramType(param)) + ' param' + (index++) }.join(", ") }
    def nameFromParams = { n -> n.getName() + '(' + n.getParameterTypes().collect { param ->
			return paramType(param);
		}.join(', ') + ')' 	}

	def typeDescription = { t ->
        if (t.isInterface()) return "Interface";
        if (t.isAnnotation()) return "Annotation Type";
        if (t.isEnum()) return "Enum";
        return "Class";
    }

	def typeSourceDescription = { t ->
		if (t.isInterface()) return "interface";
        if (t.isAnnotation()) return "@interface";
        if (t.isEnum()) return "enum";
        return "class";
	}
%>
<html>
<head>
<!-- Generated by groovydoc (${groovy.lang.GroovySystem.getVersion()}) on ${new Date()} -->
<title>${title}</title>
<meta name="date" content="${new Date().format('yyyy-MM-dd')}">
<link href="${classDoc.getResourcesPath()}groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="${classDoc.getResourcesPath()}groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="${classDoc.getRelativeRootPath()}stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="${title}";
    }
}
</script>
<noscript>
</noscript>

</head>
<body onload="windowTitle();" bgcolor="white">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav">
    <a name="navbar_top">
        <!--   -->
    </a>
    <a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="${classDoc.getRelativeRootPath()}overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="${classDoc.getRelativeRootPath()}index-all.html">Index</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}help-doc.html">Help</a></li>
    </ul>
    <div class="aboutLanguage"><em><strong>Groovy Documentation</strong></em></div>
</div>

<div class="subNav">
    <ul class="navList">
        <li><a href="${classDoc.getRelativeRootPath()}index.html?${classDoc.getFullPathName()}.html" target="_top">Frames</a></li>
        <li><a href="${classDoc.getSimpleName()}.html" target="_top">No Frames</a></li>
    </ul>
    <ul class="navList" id="all_classes_navbar_top" style="display: none;">
        <li><a href="${classDoc.getRelativeRootPath()}all-classes-frame.html" title="All Classes">All Classes</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}all-commands-frame.html" title="Commands">Commands</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}all-configs-frame.html" title="Configs">Configs</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}all-controllers-frame.html" title="Controllers">Controllers</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}all-domains-frame.html" title="Domains">Domains</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}all-services-frame.html" title="Services">Services</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}all-tag-libraries-frame.html" title="Tag Libraries">Tag Libraries</a></li>
    </ul>
    <div>
        <script type="text/javascript"><!--
        allClassesLink = document.getElementById("all_classes_navbar_top");
        if (window == top) {
            allClassesLink.style.display = "block";
        } else {
            allClassesLink.style.display = "none";
        }
        //-->
        </script>
    </div>
    <!-- ========= START OF TOP SUMMARY & DETAIL SECTION ======= -->
    <div>
        <ul class="subNavList">
            <li>SUMMARY:&nbsp;
            <%
            if (classDoc.isAnnotation()) {
                def hasReq = classDoc.getFields().any{ isRequired(it, "true") }
                def hasOpt = classDoc.getFields().any{ isRequired(it, "false") }
                if (hasReq) { %><A HREF="#required_element_summary">REQUIRED</A><% }
                if (hasReq && hasOpt) { %> | <% }
                if (hasOpt) { %><A HREF="#optional_element_summary">OPTIONAL</A><% }
            } else {
                def isSeparatorNeeded = false;
                if (visibleNested) { %><A HREF="#nested_summary">NESTED</A><%
                    isSeparatorNeeded = true;
                }
                if (classDoc.isEnum()) {
                    if (hasEnumConstants) {
                        if(isSeparatorNeeded) { %> | <% } %><A HREF="#enum_constant_summary">ENUM CONSTANTS</A><%
                        isSeparatorNeeded = true;
                    }
                }
                if (hasFields) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#field_summary">FIELD</A><%
                    isSeparatorNeeded = true;
                }
                if (hasProperties) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#property_summary">PROPERTY</A><%
                    isSeparatorNeeded = true;
                }
                // if (classDoc.isMemberClass()) {
                if (visibleConstructors) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#constructor_summary">CONSTR</A><%
                    isSeparatorNeeded = true;
                }
                // }
                if (visibleMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#method_summary">METHOD</A><%
                    isSeparatorNeeded = true;
                }
                if (expandoMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#dynamic_method_summary">DYNAMIC METHOD</A><%
                }
            }
            %>
            </li>
        </ul>
        <ul class="subNavList">
            <li>DETAIL:&nbsp;
            <%
            if (classDoc.isAnnotation()) {
                if (hasElements) { %><A HREF="#element_detail">ELEMENT</A><% }
            } else {
                def isSeparatorNeeded = false;
                if (classDoc.isEnum()) {
                    if (hasEnumConstants) { %><A HREF="#enum_constant_detail">ENUM CONSTANTS</A><%
                        isSeparatorNeeded = true;
                    }
                }
                if (hasFields) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#field_detail">FIELD</A><%
                    isSeparatorNeeded = true;
                }
                if (hasProperties) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#prop_detail">PROPERTY</A><%
                    isSeparatorNeeded = true;
                }
                //if (classDoc.isMemberClass()) {
                if (visibleConstructors) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#constructor_detail">CONSTR</A><%
                    isSeparatorNeeded = true;
                }
                //}
                if (visibleMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#method_detail">METHOD</A><%
                    isSeparatorNeeded = true;
                }
                if (expandoMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#dynamic_method_detail">DYNAMIC METHOD</A><%
                    isSeparatorNeeded = true;
                }
            }
            %>
            </li>
        </ul>
    </div>
        <!-- ========= END OF TOP SUMMARY & DETAIL SECTION ======= -->
    <a name="skip-navbar_top">
        <!--   -->
    </a>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->

<div class="header">
    <h2 class="title">${classDoc.isGroovy() ? "[Groovy]" : "[Java]"} ${typeDescription(classDoc)} ${classDoc.getSimpleName()}</h2>
</div>
<div class="contentContainer">
<%
if(classDoc.isClass()) {
def hierarchy = classDoc.getInheritanceHierarchy()
%><pre><%
    hierarchy.eachWithIndex { p, i ->
        %>${(i > 0 ? "  " * i + "  " * (i - 1) + "<img src='" + classDoc.getResourcesPath() + "inherit.gif'>" : "") + ( i == hierarchy.size() - 1 ? p.getName() : linkfull(p))}\n<%
    }
}
%></pre><%
if (classDoc.isInterface()) {
    Set interfaces = classDoc.getParentInterfaces()
    interfaces -= classDoc
    if (interfaces) {
        %><dl><dt><b>All Superinterfaces:</b> </dt><dd>${interfaces.collect{ linkable(it) }.join(', ')}</dd></dl><%
    }
} else {
    // TODO follow up the tree collecting interfaces seen?
    def interfaces = classDoc.getInterfaces()
    if (interfaces) {
        %><dl><dt><b>All Implemented Interfaces:</b> </dt><dd>${interfaces.collect{ linkable(it) }.join(', ')}</dd></dl><%
    }
}
%>
<hr>
<PRE>${annotations(classDoc, '\n') + modifiers(classDoc) + typeSourceDescription(classDoc) + ' <span class="strong">' + classDoc.getSimpleName() + '</span>'}
<% if (classDoc.isInterface() && classDoc.getInterfaces()) {
%>extends ${classDoc.getInterfaces().collect{ linkable(it.getName()) }.join(', ')}
<% } else if (classDoc.getSuperclass()) {
%>extends ${linkable(classDoc.getSuperclass().getName())}
<% }
   if(!classDoc.isInterface() && classDoc.getInterfaces()) {
%>implements ${classDoc.getInterfaces().collect{ linkable(it.getName()) }.join(', ')}
<% } %>
</PRE>
<P>
    ${classDoc.getClassComments()}
</P>

<!-- =========== SUMMARY SECTION =========== -->

<div class="summary">
<ul class="blockList">
<li class="blockList">

<% if (visibleNested) { %>
<!-- =========== NESTED CLASS SUMMARY =========== -->
<ul class="blockList">
    <li class="blockList">
        <a name="nested_class_summary">
            <!--   -->
        </a>
    <h3>Nested Class Summary</h3>
    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
           summary="Nested Class Summary table, listing nested classes, and an explanation">
        <caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
        <tr>
            <th class="colFirst" scope="col">Modifier and Type</th>
            <th class="colLast" scope="col">Class and Description</th>
        </tr>
        <% int index = 0;
        for (c in visibleNested) {
            String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
        %>
            <tr class="${cssClass}">
                <td class="colFirst"><code>${modifiersBrief(c)}${typeSourceDescription(c)}</code></td>
                <td class="colLast"><code><strong>${linkable(c)}</strong></code>

                    <div class="block">
                        <P>${classDoc.getCommentText(c)}</P>
                    </div>
                </td>
            </tr>
        <% index ++ } %>
    </table>
    </li>
</ul>
<% } %>

<% if (hasEnumConstants) { %>
<!-- =========== ENUM CONSTANT SUMMARY =========== -->
<ul class="blockList">
    <li class="blockList">
        <a name="enum_constant_summary"><!--   --></a>

        <h3>Enum Constant Summary</h3>
        <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
               summary="Enum Summary table, listing enums, and an explanation">
            <caption><span>Enums</span><span class="tabEnd">&nbsp;</span></caption>
            <tr>
                <th class="colFirst" scope="col">Enum and Description</th>
            </tr>
            <% int index = 0;
            for (ec in enumConstants) {
            String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
            %>
            <tr class="${cssClass}">
                <td class="colFirst"><code><strong><a href="#${ec.name()}">${ec.name()}</a></strong></code>

                    <div class="block">
                        <P>${classDoc.getCommentText(ec)}</P>
                    </div>
                </td>
            </tr>
            <% index ++ } %>
        </table> &nbsp;
    </li>
</ul>
<% } %>

<% if (hasFields) { %>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
    <li class="blockList">
        <a name="field_summary"><!--   --></a>

        <h3>Field Summary</h3>
        <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
               summary="Field Summary table, listing fields, and an explanation">
            <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
            <tr>
                <th class="colFirst" scope="col">Modifier and Type</th>
                <th class="colLast" scope="col">Field and Description</th>
            </tr>
            <% int index = 0;
            for (field in visibleFields) {
            String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
            %>
            <tr class="${cssClass}">
                <td class="colFirst"><code>${modifiersBrief(field)}${linkable(field.getType())}</code></td>
                <td class="colLast"><code><strong><a href="#${field.getName()}">${field.getName()}</a></strong></code>

                    <div class="block">
                        <P>${classDoc.getCommentText(field)}</P>
                    </div>
                </td>
            </tr>
            <% index ++ } %>
        </table>
<% }
    classes = []
    if (classDoc.isInterface()) {
        classes.addAll(classDoc.getInterfaces().toList())
    } else {
        if (classDoc.getSuperclass()) 
			classes += classDoc.getSuperclass()
        else 
			classes += (new java.lang.Object()).getClass()
    }
    visited = [classDoc] as Set
    while (classes) {
        Set nextLevel = []
        classes.each { c ->
            if (c.isInterface()) nextLevel.addAll(c.getInterfaces().toList())
            else if (c.getSuperclass() && c.getName() != 'java.lang.Object') nextLevel += c.getSuperclass()
            nextLevel -= visited
            visited += nextLevel
			def list = c.getDeclaredFields().findAll{ !it.isSynthetic() && isVisible(it)}.collect { field ->
				def fullPathName = (c.getPackage() == null) ? "DefaultPackage" + '/' + c.getName() : c.getName().replace('.', '/');
				if(classDoc.isExternalClass(c))
					return field.getName()
				else
					return "<a href='${classDoc.getRelativeRootPath()}${fullPathName}.html#${field.getName()}'>${field.getName()}</a>"
			}
            if (list) {
                if (!fieldSummaryShown) {
                    fieldSummaryShown = true
                %>
                <ul class="blockList">
                    <li class="blockList">
                    <a name="field_summary"><!--   --></a>

                    <h3>Field Summary</h3>
                    <% } %>
                    <ul class="blockList">
                        <li class="blockList"><a name="fields_inherited_from_${typeSourceDescription(c)}_${c.getName()}">
                            <!--   -->
                        </a>

                        <h3>Fields inherited from ${typeSourceDescription(c)} ${linkable(c)}</h3>
                        <code>${list.join(', ')}</code>
                        </li>
                    </ul>
                <%
            }
        }
        classes = nextLevel
    }
    if(hasFields || fieldSummaryShown) { %>
    </li>
</ul>
    <% } %>

<% if (hasProperties) { %>
<!-- =========== PROPERTY SUMMARY =========== -->

    <ul class="blockList">
        <li class="blockList">
            <a name="property_summary"><!--   --></a>

            <h3>Property Summary</h3>
            <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
                   summary="Property Summary table, listing properties, and an explanation">
                <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                <tr>
                    <th class="colFirst" scope="col">Modifier and Type</th>
                    <th class="colLast" scope="col">Property and Description</th>
                </tr>
                <% int index = 0;
                for (prop in visibleProperties) {
                String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
                %>
                <tr class="${cssClass}">
                    <td class="colFirst"><code>${modifiersBrief(prop)}${linkable(prop.getType())}</code></td>
                    <td class="colLast"><code><strong><a href="#${prop.getName()}">${prop.getName()}</a></strong></code>

                        <div class="block">
                            <P>${classDoc.getCommentText(prop)}</P>
                        </div>
                    </td>
                </tr>
                <% index ++ } %>
            </table>
        </li>
    </ul>
<% } %>

<% if (hasElements) { %>
<!-- =========== ELEMENT SUMMARY =========== -->
    <% elementTypes.each { k, v -> %>
        <% if (visibleFields.any{ isRequired(it, v) }) {  %>
        <ul class="blockList">
            <li class="blockList">
                <a name="${k}_element_summary"><!--   --></a>

                <h3>${upcase(k)} Element Summary</h3>
                <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
                       summary="Property Summary table, listing properties, and an explanation">
                    <caption><span>Elements</span><span class="tabEnd">&nbsp;</span></caption>
                    <tr>
                        <th class="colFirst" scope="col">Modifier and Type</th>
                        <th class="colLast" scope="col">Element and Description</th>
                    </tr>
                    <% int index = 0;
                    for (element in visibleFields) {
                    if (isRequired(element, v)) {
                        String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
                        %>
                        <tr class="${cssClass}">
                            <td class="colFirst"><code>${modifiersBrief(element)}${linkable(element.getType())}</code></td>
                            <td class="colLast"><code><strong><a href="#${element.getName()}">${element.getName()}</a></strong></code>

                                <div class="block">
                                    <P>${classDoc.getCommentText(element)}</P>
                                </div>
                            </td>
                        </tr>
                    <% } %>
                    <% index ++ } %>
                </table>
            </li>
        </ul>
        <% } %>
    <% } %>
<% } %>

<% if (visibleConstructors) { %>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

    <ul class="blockList">
        <li class="blockList">
            <a name="constructor_summary"><!--   --></a>

            <h3>Constructor Summary</h3>
            <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
                   summary="Constructor Summary table, listing constructors, and an explanation">
                <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                <tr>
                    <th class="colOne" scope="col">Constructor and Description</th>
                </tr>
                <% int index = 0;
                for (constructor in visibleConstructors) {
                String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
                %>
                <tr class="${cssClass}">
                    <td class="colOne"><code><strong>${modifiersBrief(constructor)}<B><a href="#${nameFromParams(constructor)}">${constructor.getDeclaringClass().getSimpleName()}</a></B>(${paramsOf(constructor, true)})</strong></code>

                        <div class="block">
                            <P>${classDoc.getCommentText(constructor)}</P>
                        </div>
                    </td>
                </tr>
                <% index ++ } %>
            </table>
        </li>
    </ul>
<% } %>

<% if (visibleMethods) { %>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
    <li class="blockList">
        <a name="method_summary"><!--   --></a>
        <h3>Method Summary</h3>
        <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
            <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
            <tbody>
            <tr>
                <th class="colFirst" scope="col">Modifier and Type</th>
                <th class="colLast" scope="col">Method and Description</th>
            </tr>
            <%
            int index = 0
            for (method in visibleMethods) {
            String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
            %>
            <tr class="${cssClass}">
                <td class="colFirst">
                    <CODE>${modifiersBrief(method)}${linkable(method.getReturnType())}</CODE>
                </td>
                <td class="colLast">
                    <CODE><strong><a href="#${nameFromParams(method)}">${method.getName()}</a></strong>(${paramsOf(method, true)})</CODE>
                    <div class="block">${classDoc.getCommentText(method)}</div>
                </td>
            </tr>
            <% index++ } %>
            </tbody>
        </table>
    <% }
    Set classes = []
    if (classDoc.isInterface()) {
        classes.addAll(classDoc.getInterfaces().toList())
    } else {
        if (classDoc.getSuperclass()) 
			classes += classDoc.getSuperclass()
        else 
			classes += (new java.lang.Object()).getClass()
    }
    Set visited = [classDoc] as Set
    while (classes) {
        Set nextLevel = []
        classes.each { c ->
            if (c.isInterface()) nextLevel.addAll(c.getInterfaces().toList())
            else if (c.getSuperclass() && c.getName() != 'java.lang.Object') nextLevel += c.getSuperclass()
            nextLevel -= visited
            visited += nextLevel
			def list = c.getDeclaredMethods().findAll{ !it.isSynthetic() && isVisible(it)}.collect { method ->
				def fullPathName = (c.getPackage() == null) ? "DefaultPackage" + '/' + c.getName() : c.getName().replace('.', '/');
				if(classDoc.isExternalClass(c))
					return "${nameFromParams(method)}";
				else
					return "<a href='${classDoc.getRelativeRootPath()}${fullPathName}.html#${nameFromParams(method)}'>${method.getName()}</a>"
			}
            if (list) {
                if (!methodSummaryShown) {
                    methodSummaryShown = true
                    %>
                <ul class="blockList">
                    <li class="blockList">
                        <a name="field_summary"><!--   --></a>

                        <h3>Method Summary</h3>
                <% } %>
                <ul class="blockList">
                    <li class="blockList"><a name="fields_inherited_from_${typeSourceDescription(c)}_${c.getName()}">
                        <!--   -->
                    </a>

                        <h3>Methods inherited from ${typeSourceDescription(c)} ${linkable(c)}</h3>
                        <code>${list.join(', ')}</code>
                    </li>
                </ul>
                <%
            }
        }
        classes = nextLevel
    }
if(visibleMethods || methodSummaryShown) { %>
    </li>
</ul>
<% } %>
<!-- ========== DYNAMIC METHOD SUMMARY =========== -->
<% if (expandoMethods) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="dynamic_method_summary"><!--   --></a>

            <h3>Dynamic Method Summary</h3>
            <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0"
                   summary="Dynamic Method Summary table, listing dynamic methods, and an explanation">
                <caption><span>Dynamic Methods</span><span class="tabEnd">&nbsp;</span></caption>
                <tr>
                    <th class="colFirst" scope="col">Modifier and Type</th>
                    <th class="colLast" scope="col">Method and Description</th>
                </tr>
                <% int index = 0;
                for (method in expandoMethods) {
                String cssClass = (index % 2 == 0) ? "altColor" : "rowColor";
                %>
                <tr class="${cssClass}">
                    <td class="colFirst"><code>${modifiersBrief(method)}${linkable(method.getReturnType())}</code></td>
                    <td class="colLast"><code><strong><a href="#${nameFromParams(method)}">${method.getName()}</a></strong>(${paramsOf(method, true)})</code>

                        <div class="block">
                            <P>${classDoc.getMethodInfo(method)}</P>
                        </div>
                    </td>
                </tr>
                <% index ++ } %>
            </table>
        </li>
    </ul>
<% } %>

</li>
</ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">

<!-- ============ ENUM CONSTANT DETAIL ========== -->
<% if (hasEnumConstants) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="enum_constant_detail"><!--   --></a>

            <h3>Enum Constant Detail</h3>
    <% for (ec in enumConstants) { %>
        <a NAME="${ec.name()}"><!-- --></a>
        <ul class="blockList">
            <li class="blockList">
                <h4>${ec.name()}</h4>
                <PRE><a href="${classDoc.getRelativeRootPath()}${classDoc.getFullPathName()}.html">${classDoc.getSimpleName()}</a><B>${ec.name()}</B></PRE>
                <div class="block">${classDoc.getCommentText(ec)}</div>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>

<!-- =========== FIELD DETAIL =========== -->

<% if (hasFields) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="field_detail"><!--   --></a>

            <h3>Field Detail</h3>
    <% for (field in visibleFields) { %>
        <A NAME="${field.getName()}"><!-- --></A>
        <ul class="blockList">
            <li class="blockList">
                <h4>${field.getName()}</h4>
                <PRE>${annotations(field, '\n') + modifiers(field) + linkable(field.getType())} <B>${field.getName()}</B></PRE>
                <div class="block">${classDoc.getCommentText(field)}</div>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>

<!-- =========== PROPERTY DETAIL =========== -->

<% if (hasProperties) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="prop_detail"><!--   --></a>

            <h3>Property Detail</h3>
    <% for (prop in visibleProperties) { %>
        <A NAME="${prop.getName()}"><!-- --></A>
        <ul class="blockList">
            <li class="blockList">
                <H3>${prop.getName()}</H3>
                <PRE>${annotations(prop, '\n') + modifiers(prop) + linkable(prop.getType())} <B>${prop.getName()}</B></PRE>
                <div class="block">${classDoc.getCommentText(prop)}</div>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>

<!-- =========== ELEMENT DETAIL =========== -->

<% if (hasElements) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="element_detail"><!--   --></a>

            <h3>Element Detail</h3>
    <% for (element in visibleFields) { %>
        <A NAME="${element.getName()}"><!-- --></A>
        <ul class="blockList">
            <li class="blockList">
                <H3>${element.getName()}</H3>
                <PRE>${modifiers(element) + linkable(element.getType())} <B>${element.getName()}</B></PRE>
                <div class="block">${classDoc.getCommentText(element)}</div>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<% if (visibleConstructors) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="constructor_detail"><!--   --></a>

            <h3>Constructor Detail</h3>
    <% for (constructor in visibleConstructors) { %>
        <A NAME="${nameFromParams(constructor)}"><!-- --></A>
        <ul class="blockList">
            <li class="blockList">
                <H3>${constructor.getDeclaringClass().getSimpleName()}</H3>
                <PRE>${annotations(constructor, '\n') + modifiers(constructor)}<B>${constructor.getDeclaringClass().getSimpleName()}</B>(${paramsOf(constructor, false)})</PRE>
                <DIV>${classDoc.getCommentText(constructor)}</DIV>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>

<!-- ============ METHOD DETAIL ========== -->

<% if (visibleMethods) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="method_detail"><!--   --></a>

            <h3>Method Detail</h3>
    <% for (method in visibleMethods) { %>
        <A NAME="${nameFromParams(method)}"><!-- --></A>
        <ul class="blockList">
            <li class="blockList">
                <H3>${method.getName()}</H3>
                <PRE>${annotations(method, '\n') + modifiers(method)}${linkable(method.getReturnType())} <B>${method.getName()}</B>(${paramsOf(method, false)})</PRE>
                <DIV>${classDoc.getCommentText(method)}</DIV>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>

<!-- ============ DYNAMIC METHOD DETAIL ========== -->

<% if (expandoMethods) { %>
    <ul class="blockList">
        <li class="blockList">
            <a name="dynamic_method_detail"><!--   --></a>

            <h3>Dynamic Method Detail</h3>
    <% for (method in expandoMethods) { %>
        <A NAME="${nameFromParams(method)}"><!-- --></A>
        <ul class="blockList">
            <li class="blockList">
                <H3>${method.getName()}</H3>
                <PRE>${modifiers(method)}${linkable(method.getReturnType())} <B>${method.getName()}</B>(${paramsOf(method, false)})</PRE>
			    <DIV>${classDoc.getMethodInfo(method)}</DIV>
            </li>
        </ul>
    <% } %>
        </li>
    </ul>
<% } %>
    </li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->

<!-- ========= START OF BOTTOM NAVBAR ======= -->
<div class="topNav">
    <a name="navbar_top">
        <!--   -->
    </a>
    <a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="${classDoc.getRelativeRootPath()}overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="${classDoc.getRelativeRootPath()}index-all.html">Index</a></li>
        <li><a href="${classDoc.getRelativeRootPath()}help-doc.html">Help</a></li>
    </ul>
    <div class="aboutLanguage"><em><strong>Groovy Documentation</strong></em></div>
</div>

<div class="subNav">
    <ul class="navList">
        <li><a href="${classDoc.getRelativeRootPath()}index.html?${classDoc.getFullPathName()}.html" target="_top">Frames</a></li>
        <li><a href="${classDoc.getSimpleName()}.html" target="_top">No Frames</a></li>
    </ul>
    <ul class="navList" id="all_classes_navbar_bottom" style="display: none;">
        <li><a href="all-classes-frame.html" title="All Classes">All Classes</a></li>
        <li><a href="all-commands-frame.html" title="Commands">Commands</a></li>
        <li><a href="all-configs-frame.html" title="Configs">Configs</a></li>
        <li><a href="all-controllers-frame.html" title="Controllers">Controllers</a></li>
        <li><a href="all-domains-frame.html" title="Domains">Domains</a></li>
        <li><a href="all-services-frame.html" title="Services">Services</a></li>
        <li><a href="all-tag-libraries-frame.html" title="Tag Libraries">Tag Libraries</a></li>
    </ul>
    <div>
        <script type="text/javascript"><!--
        allClassesLink = document.getElementById("all_classes_navbar_bottom");
        if (window == top) {
            allClassesLink.style.display = "block";
        }
        else {
            allClassesLink.style.display = "none";
        }
        //-->
        </script>
    </div>
    <div>
        <ul class="subNavList">
            <li>SUMMARY:&nbsp;
            <%
            if (classDoc.isAnnotation()) {
                def hasReq = classDoc.getFields().any{ isRequired(it, "true") }
                def hasOpt = classDoc.getFields().any{ isRequired(it, "false") }
                if (hasReq) { %><A HREF="#required_element_summary">REQUIRED</A><% }
                if (hasReq && hasOpt) { %> | <% }
                if (hasOpt) { %><A HREF="#optional_element_summary">OPTIONAL</A><% }
            } else {
                def isSeparatorNeeded = false;
                if (visibleNested) { %><A HREF="#nested_summary">NESTED</A><%
                    isSeparatorNeeded = true;
                }
                if (classDoc.isEnum()) {
                    if (hasEnumConstants) {
                        if(isSeparatorNeeded) { %> | <% } %><A HREF="#enum_constant_summary">ENUM CONSTANTS</A><%
                        isSeparatorNeeded = true;
                    }
                }
                if (hasFields) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#field_summary">FIELD</A><%
                    isSeparatorNeeded = true;
                }
                if (hasProperties) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#property_summary">PROPERTY</A><%
                    isSeparatorNeeded = true;
                }
                // if (classDoc.isMemberClass()) {
                if (visibleConstructors) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#constructor_summary">CONSTR</A><%
                    isSeparatorNeeded = true;
                }
                // }
                if (visibleMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#method_summary">METHOD</A><%
                    isSeparatorNeeded = true;
                }
                if (expandoMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#dynamic_method_summary">DYNAMIC METHOD</A><%
                }
            }
            %>
            </li>
        </ul>
        <ul class="subNavList">
            <li>DETAIL:&nbsp;
            <%
            if (classDoc.isAnnotation()) {
                if (hasElements) { %><A HREF="#element_detail">ELEMENT</A><% }
            } else {
                def isSeparatorNeeded = false;
                if (classDoc.isEnum()) {
                    if (hasEnumConstants) { %><A HREF="#enum_constant_detail">ENUM CONSTANTS</A><%
                        isSeparatorNeeded = true;
                    }
                }
                if (hasFields) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#field_detail">FIELD</A><%
                    isSeparatorNeeded = true;
                }
                if (hasProperties) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#prop_detail">PROPERTY</A><%
                    isSeparatorNeeded = true;
                }
                //if (classDoc.isMemberClass()) {
                if (visibleConstructors) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#constructor_detail">CONSTR</A><%
                    isSeparatorNeeded = true;
                }
                //}
                if (visibleMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#method_detail">METHOD</A><%
                    isSeparatorNeeded = true;
                }
                if (expandoMethods) {
                    if(isSeparatorNeeded) { %> | <% } %><A HREF="#dynamic_method_detail">DYNAMIC METHOD</A><%
                    isSeparatorNeeded = true;
                }
            }
            %>
            </li>
        </ul>
    </div>
    <a name="skip-navbar_bottom"><!--   --></a>
</div>
<!-- ========= END OF BOTTOM NAVBAR ========= -->
</body>
</html>